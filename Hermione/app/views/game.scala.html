@(game: Game, player: Player, user: User)(implicit flash: Flash)

@renderColor(color: Color.Value) = {@if(color == Color.Red){red}@if(color == Color.Green){green}@if(color == Color.Blue){blue}@if(color == Color.Yellow){yellow}}

@import models._

@* what to put in the top header bar *@
@headerContent = {
    <ul id="scoreInfo" class="nav">
        <li class="divider-vertical"></li>
        <li>
            <a id="goalRobot"><div class="robot @renderColor(game.goal.color)" style="z-index:9999;"></div></a>
        </li>
        <li>
            <a id="goalArrow">&rarr;</a>
        </li>
        <li>
            <a id="scoreGoal">@gameGoal(game.goal)</a>
        </li>
        <li>
            <a id="currentScore">0</a>
        </li>
        <li class="divider-vertical"></li>
        <li>
            <a id="timeLeft">23:00</a>
        </li>
        <li id="timeProgress">
            <a>@timer(game)</a>
        </li>

    </ul>
}

@main("Robotagram Rocks !!!", user)(headerContent){

<div class="row-fluid">
    <div class="span8" id="boardZone">
        @renderBoard(game)
    </div>
    <div class="span4" id="gameZone">
        <h3>Leaderboard ?</h3>
        <div id="scores">
        @scores(game)
        </div>
        <h3>How to play</h3>
        <div id="howToPlay">
            <table>
                <tr>
                    <td>
                        <table id="keyboard-keys" class="hidden-tablet">
                            <tr>
                                <td></td>
                                <td><kbd>I</kbd></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td><kbd>J</kbd></td>
                                <td><kbd>K</kbd></td>
                                <td><kbd>L</kbd></td>
                            </tr>
                        </table>
                    </td>
                    <td id="key-mapping" class="hidden-tablet">=</td>
                    <td>
                        <table id="arrow-keys">
                            <tr>
                                <td></td>
                                <td><kbd id="key-up">&uarr;</kbd></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td><kbd id="key-left">&larr;</kbd></td>
                                <td><kbd id="key-down">&darr;</kbd></td>
                                <td><kbd id="key-right">&rarr;</kbd></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <p class="hidden-tablet">
                <kbd>S</kbd>/<kbd>D</kbd> : select previous/next robot
            </p>
        </div>

    </div>

    <div id="winModal" class="modal hide fade">
        <div class="modal-header">
            <h3>Solution found !</h3>
        </div>
        <div class="modal-body" align="center">
            <img src="http://img.bollywoodsargam.com/albumsbolly/Emma_Watson/Emma_Watson_BollywoodSargam_hot_762997.jpg" alt="Wouhou!" height="50%" width="50%">
        </div>
        <div class="modal-footer">
            <a id="retry" class="btn btn-success" data-dismiss="modal" >Play Again !</a>
        </div>
    </div>
</div>

<script type="text/javascript">
  $(document).ready(function () {
    initListeners();
    $('#scoreGoal span').popover({placement: 'bottom', title: "Bring the robot here !"})   ;
  })
</script>

}
